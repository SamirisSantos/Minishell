valgrind --suppressions=readline.supp --leak-check=full --show-leak-kinds=all ./minishell

echo hello | cat | wc -c - dont pass
cat bad adress - corrected problem 
explicação
no leak
----------------------
ls | grep src | wc -l

==6796== 56 bytes in 1 blocks are still reachable in loss record 1 of 6
==6796==    at 0x4846828: malloc (in /usr/libexec/valgrind/vgpreload_memcheck-amd64-linux.so)
==6796==    by 0x119E2F: ??? (in /usr/bin/ls)
==6796==    by 0x10D7DB: ??? (in /usr/bin/ls)
==6796==    by 0x48B71C9: (below main) (libc_start_call_main.h:58)
==6796==
==6796== 56 bytes in 1 blocks are still reachable in loss record 2 of 6
==6796==    at 0x4846828: malloc (in /usr/libexec/valgrind/vgpreload_memcheck-amd64-linux.so)
==6796==    by 0x119E2F: ??? (in /usr/bin/ls)
==6796==    by 0x10D849: ??? (in /usr/bin/ls)
==6796==    by 0x48B71C9: (below main) (libc_start_call_main.h:58)
==6796==
==6796== 128 bytes in 1 blocks are still reachable in loss record 3 of 6
==6796==    at 0x4846828: malloc (in /usr/libexec/valgrind/vgpreload_memcheck-amd64-linux.so)
==6796==    by 0x111049: ??? (in /usr/bin/ls)
==6796==    by 0x10D9B8: ??? (in /usr/bin/ls)
==6796==    by 0x48B71C9: (below main) (libc_start_call_main.h:58)
==6796==
==6796== 142 bytes in 13 blocks are still reachable in loss record 4 of 6
==6796==    at 0x4846828: malloc (in /usr/libexec/valgrind/vgpreload_memcheck-amd64-linux.so)
==6796==    by 0x118B4E: ??? (in /usr/bin/ls)
==6796==    by 0x11F7C5: ??? (in /usr/bin/ls)
==6796==    by 0x119484: ??? (in /usr/bin/ls)
==6796==    by 0x10DADC: ??? (in /usr/bin/ls)
==6796==    by 0x48B71C9: (below main) (libc_start_call_main.h:58)
==6796==
==6796== 312 bytes in 1 blocks are still reachable in loss record 5 of 6
==6796==    at 0x484DB80: realloc (in /usr/libexec/valgrind/vgpreload_memcheck-amd64-linux.so)
==6796==    by 0x1164F4: ??? (in /usr/bin/ls)
==6796==    by 0x1192E3: ??? (in /usr/bin/ls)
==6796==    by 0x10DADC: ??? (in /usr/bin/ls)
==6796==    by 0x48B71C9: (below main) (libc_start_call_main.h:58)
==6796==
==6796== 20,800 bytes in 1 blocks are still reachable in loss record 6 of 6
==6796==    at 0x484DB80: realloc (in /usr/libexec/valgrind/vgpreload_memcheck-amd64-linux.so)
==6796==    by 0x10DA26: ??? (in /usr/bin/ls)
==6796==    by 0x48B71C9: (below main) (libc_start_call_main.h:58)
==6796==
1
==6797== 4 bytes in 1 blocks are still reachable in loss record 1 of 15
==6797==    at 0x4846828: malloc (in /usr/libexec/valgrind/vgpreload_memcheck-amd64-linux.so)
==6797==    by 0x12851E: ??? (in /usr/bin/grep)
==6797==    by 0x10E763: ??? (in /usr/bin/grep)
==6797==    by 0x49241C9: (below main) (libc_start_call_main.h:58)
==6797==
==6797== 16 bytes in 1 blocks are still reachable in loss record 2 of 15
==6797==    at 0x484DB80: realloc (in /usr/libexec/valgrind/vgpreload_memcheck-amd64-linux.so)
==6797==    by 0x11CDAA: ??? (in /usr/bin/grep)
==6797==    by 0x121B30: ??? (in /usr/bin/grep)
==6797==    by 0x11ACA4: ??? (in /usr/bin/grep)
==6797==    by 0x10E047: ??? (in /usr/bin/grep)
==6797==    by 0x49241C9: (below main) (libc_start_call_main.h:58)
==6797==
==6797== 36 bytes in 1 blocks are still reachable in loss record 3 of 15
==6797==    at 0x484D953: calloc (in /usr/libexec/valgrind/vgpreload_memcheck-amd64-linux.so)
==6797==    by 0x121212: ??? (in /usr/bin/grep)
==6797==    by 0x11ACA4: ??? (in /usr/bin/grep)
==6797==    by 0x10E047: ??? (in /usr/bin/grep)
==6797==    by 0x49241C9: (below main) (libc_start_call_main.h:58)
==6797==
==6797== 36 bytes in 1 blocks are still reachable in loss record 4 of 15
==6797==    at 0x484D953: calloc (in /usr/libexec/valgrind/vgpreload_memcheck-amd64-linux.so)
==6797==    by 0x121A51: ??? (in /usr/bin/grep)
==6797==    by 0x11ACA4: ??? (in /usr/bin/grep)
==6797==    by 0x10E047: ??? (in /usr/bin/grep)
==6797==    by 0x49241C9: (below main) (libc_start_call_main.h:58)
==6797==
==6797== 72 bytes in 1 blocks are still reachable in loss record 5 of 15
==6797==    at 0x484D953: calloc (in /usr/libexec/valgrind/vgpreload_memcheck-amd64-linux.so)
==6797==    by 0x119EA9: ??? (in /usr/bin/grep)
==6797==    by 0x10E047: ??? (in /usr/bin/grep)
==6797==    by 0x49241C9: (below main) (libc_start_call_main.h:58)
==6797==
==6797== 72 bytes in 1 blocks are still reachable in loss record 6 of 15
==6797==    at 0x484DB80: realloc (in /usr/libexec/valgrind/vgpreload_memcheck-amd64-linux.so)
==6797==    by 0x11CFA3: ??? (in /usr/bin/grep)
==6797==    by 0x121B30: ??? (in /usr/bin/grep)
==6797==    by 0x11ACA4: ??? (in /usr/bin/grep)
==6797==    by 0x10E047: ??? (in /usr/bin/grep)
==6797==    by 0x49241C9: (below main) (libc_start_call_main.h:58)
==6797==
==6797== 120 bytes in 1 blocks are still reachable in loss record 7 of 15
==6797==    at 0x484DB80: realloc (in /usr/libexec/valgrind/vgpreload_memcheck-amd64-linux.so)
==6797==    by 0x111DCF: ??? (in /usr/bin/grep)
==6797==    by 0x10E796: ??? (in /usr/bin/grep)
==6797==    by 0x49241C9: (below main) (libc_start_call_main.h:58)
==6797==
==6797== 128 bytes in 1 blocks are still reachable in loss record 8 of 15
==6797==    at 0x484DB80: realloc (in /usr/libexec/valgrind/vgpreload_memcheck-amd64-linux.so)
==6797==    by 0x11CA97: ??? (in /usr/bin/grep)
==6797==    by 0x11AD14: ??? (in /usr/bin/grep)
==6797==    by 0x10E047: ??? (in /usr/bin/grep)
==6797==    by 0x49241C9: (below main) (libc_start_call_main.h:58)
==6797==
==6797== 128 bytes in 1 blocks are possibly lost in loss record 9 of 15
==6797==    at 0x484DB80: realloc (in /usr/libexec/valgrind/vgpreload_memcheck-amd64-linux.so)
==6797==    by 0x11A819: ??? (in /usr/bin/grep)
==6797==    by 0x10E047: ??? (in /usr/bin/grep)
==6797==    by 0x49241C9: (below main) (libc_start_call_main.h:58)
==6797==
==6797== 216 bytes in 1 blocks are still reachable in loss record 10 of 15
==6797==    at 0x484D953: calloc (in /usr/libexec/valgrind/vgpreload_memcheck-amd64-linux.so)
==6797==    by 0x120AB7: ??? (in /usr/bin/grep)
==6797==    by 0x11ACA4: ??? (in /usr/bin/grep)
==6797==    by 0x10E047: ??? (in /usr/bin/grep)
==6797==    by 0x49241C9: (below main) (libc_start_call_main.h:58)
==6797==
==6797== 512 bytes in 4 blocks are still reachable in loss record 11 of 15
==6797==    at 0x484DB80: realloc (in /usr/libexec/valgrind/vgpreload_memcheck-amd64-linux.so)
==6797==    by 0x11C6BD: ??? (in /usr/bin/grep)
==6797==    by 0x120F02: ??? (in /usr/bin/grep)
==6797==    by 0x11ACA4: ??? (in /usr/bin/grep)
==6797==    by 0x10E047: ??? (in /usr/bin/grep)
==6797==    by 0x49241C9: (below main) (libc_start_call_main.h:58)
==6797==
==6797== 2,336 bytes in 1 blocks are still reachable in loss record 12 of 15
==6797==    at 0x4846828: malloc (in /usr/libexec/valgrind/vgpreload_memcheck-amd64-linux.so)
==6797==    by 0x119EC3: ??? (in /usr/bin/grep)
==6797==    by 0x10E047: ??? (in /usr/bin/grep)
==6797==    by 0x49241C9: (below main) (libc_start_call_main.h:58)
==6797==
==6797== 2,464 bytes in 1 blocks are still reachable in loss record 13 of 15
==6797==    at 0x4846828: malloc (in /usr/libexec/valgrind/vgpreload_memcheck-amd64-linux.so)
==6797==    by 0x116D9E: ??? (in /usr/bin/grep)
==6797==    by 0x11A32C: ??? (in /usr/bin/grep)
==6797==    by 0x10E047: ??? (in /usr/bin/grep)
==6797==    by 0x49241C9: (below main) (libc_start_call_main.h:58)
==6797==
==6797== 4,064 bytes in 1 blocks are still reachable in loss record 14 of 15
==6797==    at 0x4846828: malloc (in /usr/libexec/valgrind/vgpreload_memcheck-amd64-linux.so)
==6797==    by 0x1283DC: ??? (in /usr/bin/grep)
==6797==    by 0x116DD0: ??? (in /usr/bin/grep)
==6797==    by 0x1199AC: ??? (in /usr/bin/grep)
==6797==    by 0x11A410: ??? (in /usr/bin/grep)
==6797==    by 0x10E047: ??? (in /usr/bin/grep)
==6797==    by 0x49241C9: (below main) (libc_start_call_main.h:58)
==6797==
==6797== 102,408 bytes in 1 blocks are still reachable in loss record 15 of 15
==6797==    at 0x4846828: malloc (in /usr/libexec/valgrind/vgpreload_memcheck-amd64-linux.so)
==6797==    by 0x10E12A: ??? (in /usr/bin/grep)
==6797==    by 0x49241C9: (below main) (libc_start_call_main.h:58)
==6797==

------------------------------------------------------------
cat Guia.txt | grep Lexer | wc -l

==6826== 6 bytes in 1 blocks are still reachable in loss record 1 of 15
==6826==    at 0x4846828: malloc (in /usr/libexec/valgrind/vgpreload_memcheck-amd64-linux.so)
==6826==    by 0x12851E: ??? (in /usr/bin/grep)
==6826==    by 0x10E763: ??? (in /usr/bin/grep)
==6826==    by 0x49241C9: (below main) (libc_start_call_main.h:58)
==6826==
==6826== 16 bytes in 1 blocks are still reachable in loss record 2 of 15
==6826==    at 0x484DB80: realloc (in /usr/libexec/valgrind/vgpreload_memcheck-amd64-linux.so)
==6826==    by 0x11CDAA: ??? (in /usr/bin/grep)
==6826==    by 0x121B30: ??? (in /usr/bin/grep)
==6826==    by 0x11ACA4: ??? (in /usr/bin/grep)
==6826==    by 0x10E047: ??? (in /usr/bin/grep)
==6826==    by 0x49241C9: (below main) (libc_start_call_main.h:58)
==6826==
==6826== 52 bytes in 1 blocks are still reachable in loss record 3 of 15
==6826==    at 0x484D953: calloc (in /usr/libexec/valgrind/vgpreload_memcheck-amd64-linux.so)
==6826==    by 0x121212: ??? (in /usr/bin/grep)
==6826==    by 0x11ACA4: ??? (in /usr/bin/grep)
==6826==    by 0x10E047: ??? (in /usr/bin/grep)
==6826==    by 0x49241C9: (below main) (libc_start_call_main.h:58)
==6826==
==6826== 52 bytes in 1 blocks are still reachable in loss record 4 of 15
==6826==    at 0x484D953: calloc (in /usr/libexec/valgrind/vgpreload_memcheck-amd64-linux.so)
==6826==    by 0x121A51: ??? (in /usr/bin/grep)
==6826==    by 0x11ACA4: ??? (in /usr/bin/grep)
==6826==    by 0x10E047: ??? (in /usr/bin/grep)
==6826==    by 0x49241C9: (below main) (libc_start_call_main.h:58)
==6826==
==6826== 72 bytes in 1 blocks are still reachable in loss record 5 of 15
==6826==    at 0x484D953: calloc (in /usr/libexec/valgrind/vgpreload_memcheck-amd64-linux.so)
==6826==    by 0x119EA9: ??? (in /usr/bin/grep)
==6826==    by 0x10E047: ??? (in /usr/bin/grep)
==6826==    by 0x49241C9: (below main) (libc_start_call_main.h:58)
==6826==
==6826== 72 bytes in 1 blocks are still reachable in loss record 6 of 15
==6826==    at 0x484DB80: realloc (in /usr/libexec/valgrind/vgpreload_memcheck-amd64-linux.so)
==6826==    by 0x11CFA3: ??? (in /usr/bin/grep)
==6826==    by 0x121B30: ??? (in /usr/bin/grep)
==6826==    by 0x11ACA4: ??? (in /usr/bin/grep)
==6826==    by 0x10E047: ??? (in /usr/bin/grep)
==6826==    by 0x49241C9: (below main) (libc_start_call_main.h:58)
==6826==
==6826== 120 bytes in 1 blocks are still reachable in loss record 7 of 15
==6826==    at 0x484DB80: realloc (in /usr/libexec/valgrind/vgpreload_memcheck-amd64-linux.so)
==6826==    by 0x111DCF: ??? (in /usr/bin/grep)
==6826==    by 0x10E796: ??? (in /usr/bin/grep)
==6826==    by 0x49241C9: (below main) (libc_start_call_main.h:58)
==6826==
==6826== 128 bytes in 1 blocks are still reachable in loss record 8 of 15
==6826==    at 0x484DB80: realloc (in /usr/libexec/valgrind/vgpreload_memcheck-amd64-linux.so)
==6826==    by 0x11CA97: ??? (in /usr/bin/grep)
==6826==    by 0x11AD14: ??? (in /usr/bin/grep)
==6826==    by 0x10E047: ??? (in /usr/bin/grep)
==6826==    by 0x49241C9: (below main) (libc_start_call_main.h:58)
==6826==
==6826== 128 bytes in 1 blocks are possibly lost in loss record 9 of 15
==6826==    at 0x484DB80: realloc (in /usr/libexec/valgrind/vgpreload_memcheck-amd64-linux.so)
==6826==    by 0x11A819: ??? (in /usr/bin/grep)
==6826==    by 0x10E047: ??? (in /usr/bin/grep)
==6826==    by 0x49241C9: (below main) (libc_start_call_main.h:58)
==6826==
==6826== 312 bytes in 1 blocks are still reachable in loss record 10 of 15
==6826==    at 0x484D953: calloc (in /usr/libexec/valgrind/vgpreload_memcheck-amd64-linux.so)
==6826==    by 0x120AB7: ??? (in /usr/bin/grep)
==6826==    by 0x11ACA4: ??? (in /usr/bin/grep)
==6826==    by 0x10E047: ??? (in /usr/bin/grep)
==6826==    by 0x49241C9: (below main) (libc_start_call_main.h:58)
==6826==
==6826== 768 bytes in 6 blocks are still reachable in loss record 11 of 15
==6826==    at 0x484DB80: realloc (in /usr/libexec/valgrind/vgpreload_memcheck-amd64-linux.so)
==6826==    by 0x11C6BD: ??? (in /usr/bin/grep)
==6826==    by 0x120F02: ??? (in /usr/bin/grep)
==6826==    by 0x11ACA4: ??? (in /usr/bin/grep)
==6826==    by 0x10E047: ??? (in /usr/bin/grep)
==6826==    by 0x49241C9: (below main) (libc_start_call_main.h:58)
==6826==
==6826== 2,336 bytes in 1 blocks are still reachable in loss record 12 of 15
==6826==    at 0x4846828: malloc (in /usr/libexec/valgrind/vgpreload_memcheck-amd64-linux.so)
==6826==    by 0x119EC3: ??? (in /usr/bin/grep)
==6826==    by 0x10E047: ??? (in /usr/bin/grep)
==6826==    by 0x49241C9: (below main) (libc_start_call_main.h:58)
==6826==
==6826== 2,464 bytes in 1 blocks are still reachable in loss record 13 of 15
==6826==    at 0x4846828: malloc (in /usr/libexec/valgrind/vgpreload_memcheck-amd64-linux.so)
==6826==    by 0x116D9E: ??? (in /usr/bin/grep)
==6826==    by 0x11A32C: ??? (in /usr/bin/grep)
==6826==    by 0x10E047: ??? (in /usr/bin/grep)
==6826==    by 0x49241C9: (below main) (libc_start_call_main.h:58)
==6826==
==6826== 4,064 bytes in 1 blocks are still reachable in loss record 14 of 15
==6826==    at 0x4846828: malloc (in /usr/libexec/valgrind/vgpreload_memcheck-amd64-linux.so)
==6826==    by 0x1283DC: ??? (in /usr/bin/grep)
==6826==    by 0x116DD0: ??? (in /usr/bin/grep)
==6826==    by 0x1199AC: ??? (in /usr/bin/grep)
==6826==    by 0x11A410: ??? (in /usr/bin/grep)
==6826==    by 0x10E047: ??? (in /usr/bin/grep)
==6826==    by 0x49241C9: (below main) (libc_start_call_main.h:58)
==6826==
==6826== 102,408 bytes in 1 blocks are still reachable in loss record 15 of 15
==6826==    at 0x4846828: malloc (in /usr/libexec/valgrind/vgpreload_memcheck-amd64-linux.so)
==6826==    by 0x10E12A: ??? (in /usr/bin/grep)
==6826==    by 0x49241C9: (below main) (libc_start_call_main.h:58)
==6826==

------------------------------------------------------
export TESTE=123 - ok
echo $TESTE - ok 
------------------------------------------------------
exit
minishell$ exit
exit
==6694== FILE DESCRIPTORS: 5 open (3 std) at exit.
==6694== Open file descriptor 4: /dev/pts/0
==6694==    at 0x49CB96B: dup (syscall-template.S:120)
==6694==    by 0x10B170: save_and_redirect (utils_exec.c:20)
==6694==    by 0x10A5D4: exec_builtin (builtin_exec.c:56)
==6694==    by 0x10AD0B: start_exe (pre_executor.c:25)
==6694==    by 0x10AE23: pre_executor (pre_executor.c:50)
==6694==    by 0x10E3BA: process_input (shell_control.c:25)
==6694==    by 0x10E4E6: shell_control (shell_control.c:63)
==6694==    by 0x1094F8: main (main.c:31)
==6694==
==6694== Open file descriptor 3: /dev/pts/0
==6694==    at 0x49CB96B: dup (syscall-template.S:120)
==6694==    by 0x10B160: save_and_redirect (utils_exec.c:19)
==6694==    by 0x10A5D4: exec_builtin (builtin_exec.c:56)
==6694==    by 0x10AD0B: start_exe (pre_executor.c:25)
==6694==    by 0x10AE23: pre_executor (pre_executor.c:50)
==6694==    by 0x10E3BA: process_input (shell_control.c:25)
==6694==    by 0x10E4E6: shell_control (shell_control.c:63)
==6694==    by 0x1094F8: main (main.c:31)
==6694==
==6694==
==6694== 12 bytes in 1 blocks are definitely lost in loss record 10 of 80
==6694==    at 0x4846828: malloc (in /usr/libexec/valgrind/vgpreload_memcheck-amd64-linux.so)
==6694==    by 0x10E7EB: ft_calloc (ft_calloc.c:20)
==6694==    by 0x10E954: ft_strjoin (ft_strjoin.c:25)
==6694==    by 0x10AAFB: find_truepath (cmd_path.c:52)
==6694==    by 0x10AC29: find_cmd_path (cmd_path.c:78)
==6694==    by 0x10AC95: start_exe (pre_executor.c:21)
==6694==    by 0x10AD6B: start_exe (pre_executor.c:31)
==6694==    by 0x10AD6B: start_exe (pre_executor.c:31)
==6694==    by 0x10AE23: pre_executor (pre_executor.c:50)
==6694==    by 0x10E3BA: process_input (shell_control.c:25)
==6694==    by 0x10E4E6: shell_control (shell_control.c:63)
==6694==    by 0x1094F8: main (main.c:31)
==6694==
==6694== 13 bytes in 1 blocks are definitely lost in loss record 12 of 80
==6694==    at 0x4846828: malloc (in /usr/libexec/valgrind/vgpreload_memcheck-amd64-linux.so)
==6694==    by 0x10E7EB: ft_calloc (ft_calloc.c:20)
==6694==    by 0x10E954: ft_strjoin (ft_strjoin.c:25)
==6694==    by 0x10AAFB: find_truepath (cmd_path.c:52)
==6694==    by 0x10AC29: find_cmd_path (cmd_path.c:78)
==6694==    by 0x10AC95: start_exe (pre_executor.c:21)
==6694==    by 0x10AD50: start_exe (pre_executor.c:30)
==6694==    by 0x10AD6B: start_exe (pre_executor.c:31)
==6694==    by 0x10AE23: pre_executor (pre_executor.c:50)
==6694==    by 0x10E3BA: process_input (shell_control.c:25)
==6694==    by 0x10E4E6: shell_control (shell_control.c:63)
==6694==    by 0x1094F8: main (main.c:31)
==6694==